/**
 * 文章系統統一樣式變數
 * 整合所有文章相關的樣式常數，減少重複定義
 */

@use "sass:map";

// 顏色系統 - 統一從 styleReset.scss 中提取
$article-colors: ( // 主要顏色
    primary: #5a4a3b,
    primary-light: #8a614d,
    primary-lighter: #a88a6a,

    // 次要顏色
    secondary: #d9c3aa,
    secondary-light: #f8f3ee,

    // 背景顏色
    bg-primary: #fff,
    bg-secondary: #f8f3ee,
    bg-accent: #faf9f5,

    // 文字顏色
    text-primary: #5a4a3b,
    text-secondary: #a88a6a,
    text-muted: #ccc,

    // 邊框顏色
    border-light: #e6e6e6,
    border-medium: #d9d9d9,
    border-dark: #a88a6a,

    // 狀態顏色
    success: #4CAF50,
    warning: #FF9800,
    error: #f44336,
    info: #2196F3);

// 字體系統
$article-typography: ( // 字體家族
    font-family: ('Noto Sans TC', sans-serif),

    // 字體大小
    font-size-xs: 0.75rem, // 12px
    font-size-sm: 0.85rem, // 13.6px
    font-size-base: 0.9rem, // 14.4px
    font-size-md: 1rem, // 16px
    font-size-lg: 1.125rem, // 18px
    font-size-xl: 1.25rem, // 20px
    font-size-2xl: 1.5rem, // 24px
    font-size-3xl: 2rem, // 32px
    font-size-4xl: 2.5rem, // 40px

    // 字體粗細
    font-weight-light: 300,
    font-weight-normal: 400,
    font-weight-medium: 500,
    font-weight-semibold: 600,
    font-weight-bold: 700,

    // 行高
    line-height-tight: 1.2,
    line-height-normal: 1.4,
    line-height-relaxed: 1.6,
    line-height-loose: 1.8);

// 間距系統
$article-spacing: ( // 基本間距單位 (基於 8px grid)
    space-0: 0,
    space-1: 0.25rem, // 4px
    space-2: 0.5rem, // 8px
    space-3: 0.75rem, // 12px
    space-4: 1rem, // 16px
    space-5: 1.25rem, // 20px
    space-6: 1.5rem, // 24px
    space-8: 2rem, // 32px
    space-10: 2.5rem, // 40px
    space-12: 3rem, // 48px
    space-16: 4rem, // 64px
    space-20: 5rem, // 80px

    // 特殊間距
    section-gap: 2.5rem,
    paragraph-gap: 1.2rem,
    list-gap: 0.8rem);

// 圓角系統
$article-border-radius: (radius-none: 0,
    radius-sm: 0.25rem, // 4px
    radius-md: 0.375rem, // 6px
    radius-lg: 0.5rem, // 8px
    radius-xl: 0.75rem, // 12px
    radius-2xl: 1rem, // 16px
    radius-3xl: 1.25rem, // 20px
    radius-full: 9999px,

    // 特殊圓角
    card-radius: 1.25rem,
    button-radius: 1.875rem, // 30px
    image-radius: 1.25rem);

// 陰影系統
$article-shadows: (shadow-none: none,
    shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05),
    shadow-md: 0 4px 6px rgba(0, 0, 0, 0.07),
    shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1),
    shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.1),

    // 特殊陰影
    card-shadow: 0 4px 6px rgba(90, 74, 59, 0.1),
    button-shadow: 0 2px 4px rgba(90, 74, 59, 0.1));

// 過渡動畫
$article-transitions: (transition-fast: 0.15s ease-in-out,
    transition-normal: 0.3s ease-in-out,
    transition-slow: 0.5s ease-in-out,

    // 特殊過渡
    transition-colors: color 0.3s ease-in-out,
    transition-transform: transform 0.3s ease-in-out,
    transition-opacity: opacity 0.3s ease-in-out,
    transition-all: all 0.3s ease-in-out);

// 響應式斷點
$article-breakpoints: (xs: 480px,
    sm: 768px,
    md: 1024px,
    lg: 1200px,
    xl: 1440px);

// Z-index 層級
$article-z-index: (dropdown: 1000,
    sticky: 1020,
    fixed: 1030,
    modal-backdrop: 1040,
    modal: 1050,
    popover: 1060,
    tooltip: 1070);

// 文章特定組件尺寸
$article-components: ( // 作者頭像
    author-image-size: 40px,

    // 步驟編號
    step-number-size: 48px,

    // 圖片比例
    hero-image-ratio: (16, 9),
    square-image-ratio: (1, 1),
    portrait-image-ratio: (3, 4),

    // 容器寬度
    container-max-width: 1200px,
    content-max-width: 800px,

    // 按鈕尺寸
    button-height-sm: 32px,
    button-height-md: 40px,
    button-height-lg: 48px);

// 輔助函數：獲取顏色
@function article-color($color-name) {
    @return map.get($article-colors, $color-name);
}

// 輔助函數：獲取字體大小
@function article-font-size($size-name) {
    @return map.get($article-typography, $size-name);
}

// 輔助函數：獲取間距
@function article-spacing($space-name) {
    @return map.get($article-spacing, $space-name);
}

// 輔助函數：獲取圓角
@function article-radius($radius-name) {
    @return map.get($article-border-radius, $radius-name);
}

// 輔助函數：獲取陰影
@function article-shadow($shadow-name) {
    @return map.get($article-shadows, $shadow-name);
}

// 輔助函數：獲取過渡
@function article-transition($transition-name) {
    @return map.get($article-transitions, $transition-name);
}

// Mixin：響應式媒體查詢
@mixin article-breakpoint($size) {
    $breakpoint: map.get($article-breakpoints, $size);

    @if $breakpoint {
        @media (max-width: $breakpoint) {
            @content;
        }
    }
}

// Mixin：文字省略
@mixin article-text-ellipsis($lines: 1) {
    @if $lines==1 {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    @else {
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: $lines;
        -webkit-box-orient: vertical;
    }
}

// Mixin：flex center
@mixin article-flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

// Mixin：卡片樣式
@mixin article-card {
    background: article-color(bg-primary);
    border-radius: article-radius(card-radius);
    box-shadow: article-shadow(card-shadow);
    padding: article-spacing(space-6);
}

// Mixin：按鈕基礎樣式
@mixin article-button-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    border: none;
    border-radius: article-radius(button-radius);
    font-family: map.get($article-typography, font-family);
    font-weight: map.get($article-typography, font-weight-medium);
    cursor: pointer;
    transition: article-transition(transition-all);
    text-decoration: none;

    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
}

// Mixin：圖片容器
@mixin article-image-container($ratio: null) {
    position: relative;
    overflow: hidden;
    border-radius: article-radius(image-radius);

    @if $ratio {
        aspect-ratio: $ratio;
    }

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
}